"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const React = require("react");
const strip_ansi_1 = require("strip-ansi");
const calls_1 = require("./calls");
const buildTestTitle = (assertionResult) => assertionResult.ancestorTitles
    .map(ancestorTitle => `${ancestorTitle} > `)
    .join(" ") + assertionResult.title;
const TestTitle = ({ assertionResult }) => {
    return (React.createElement("div", { className: "test__title" }, buildTestTitle(assertionResult)));
};
const FailureMessage = ({ messages }) => {
    return (React.createElement("div", { className: `test__failure-messages` }, `Failure message: ${messages.map((message) => strip_ansi_1.default(message)).join(", ")}`));
};
const Test = ({ assertionResult, snapshots }) => {
    const failureMessages = assertionResult.failureMessages;
    const statusClass = failureMessages.length > 0
        ? "test--failure"
        : "test--success";
    return (React.createElement("div", { className: `test ${statusClass}` },
        React.createElement(TestTitle, { assertionResult: assertionResult }),
        failureMessages.length > 0 ?
            React.createElement(FailureMessage, { messages: failureMessages })
            : null,
        React.createElement(calls_1.default, { assertionResult: assertionResult, snapshots: snapshots })));
};
exports.default = Test;
//# sourceMappingURL=test.js.map